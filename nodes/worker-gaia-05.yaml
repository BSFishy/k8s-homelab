# yaml-language-server: $schema=https://raw.githubusercontent.com/siderolabs/talos/refs/heads/release-1.10/website/content/v1.10/schemas/config.schema.json

machine:
  network:
    interfaces:
      - interface: br0
        dhcp: false

        addresses:
          - 10.1.2.6/16
          - 2603:8080:1e00:1b02:1000::5/64

        routes:
          - network: 0.0.0.0/0
            gateway: 10.1.0.1
          - network: ::/0
            gateway: 2603:8080:1e00:1b02::1

        bridge:
          stp:
            enabled: false
          interfaces:
            - enp1s0

        vlans:
          # homelab
          - vlanId: 6
            routes:
              - network: 10.1.0.0/16
                gateway: 10.1.0.1

          # personal devices
          - vlanId: 3
            routes:
              - network: 10.0.2.0/24
                gateway: 10.0.2.1

    hostname: gaia-05

  install:
    disk: /dev/disk/by-id/nvme-KINGSTON_OM8PGP41024Q-A0_50026B738300BB9C
    wipe: false
